{% extends template('widget') %}

{% define data = {
    name: _widget.categoryName,
    imageUrl: _widget.imageUrl
} %}

{% block body %}
    {% embed atom('thumbnail') with {
        attributes: {
            alt: data.name,
            src: data.imageUrl,
            title: data.name
        },
        embed: {
            imageUrl: data.imageUrl
        }
    } only %}
        {% block body %}
            {% if embed.imageUrl is defined and embed.imageUrl is not empty %}
                <img class="{{config.name}}__image" {{component.renderAttributes(attributes)}}>
            {% else %}
                <div class="{{config.name}}__image {{config.name}}__image--color-light grid grid--center">
                    {% include atom('icon') with {
                        class: 'col col--middle',
                        modifiers: ['biggest'],
                        data: {
                            name: 'default-image'
                        }
                    } only %}
                </div>
            {% endif %}
        {% endblock %}
    {% endembed %}
{% endblock %}
